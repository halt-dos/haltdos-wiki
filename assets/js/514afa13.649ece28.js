"use strict";(self.webpackChunkhaltdos_wiki=self.webpackChunkhaltdos_wiki||[]).push([[88010],{3905:(e,t,r)=>{r.d(t,{Zo:()=>h,kt:()=>v});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=n.createContext({}),c=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},h=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,h=i(e,["components","mdxType","originalType","parentName"]),p=c(r),d=a,v=p["".concat(l,".").concat(d)]||p[d]||u[d]||o;return r?n.createElement(v,s(s({ref:t},h),{},{components:r})):n.createElement(v,s({ref:t},h))}));function v(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,s=new Array(o);s[0]=d;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[p]="string"==typeof e?e:a,s[1]=i;for(var c=2;c<o;c++)s[c]=r[c];return n.createElement.apply(null,s)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},63923:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>s,metadata:()=>l,toc:()=>h});r(67294);var n=r(3905);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const s={sidebar_position:10},i="Monitors",l={unversionedId:"professional/waf/monitors",id:"version-7.0/professional/waf/monitors",title:"Monitors",description:"Continually test your upstream servers, avoid the servers that have failed, and gracefully add the recovered servers into the server group.",source:"@site/versioned_docs/version-7.0/professional/waf/monitors.md",sourceDirName:"professional/waf",slug:"/professional/waf/monitors",permalink:"/v7/professional/waf/monitors",draft:!1,tags:[],version:"7.0",sidebarPosition:10,frontMatter:{sidebar_position:10},sidebar:"professional_sidebar",previous:{title:"Load Balancing",permalink:"/v7/professional/waf/server_group/loadbalancing"},next:{title:"Error Rules",permalink:"/v7/professional/waf/rules/error_rules"}},c={},h=[{value:"Overview",id:"overview",level:3},{value:"How to Use:",id:"how-to-use",level:3},{value:"Description",id:"description",level:3},{value:"<strong>Monitor Name</strong>",id:"monitor-name",level:5},{value:"<strong>Enable Health Check</strong>",id:"enable-health-check",level:5},{value:"<strong>Health Check Interval</strong>",id:"health-check-interval",level:5},{value:"<strong>Fail Threshold</strong>",id:"fail-threshold",level:5},{value:"<strong>Pass Threshold</strong>",id:"pass-threshold",level:5},{value:"<strong>Health Check Type</strong>",id:"health-check-type",level:5},{value:"<strong>Check URI</strong>",id:"check-uri",level:5},{value:"<strong>Match Status</strong>",id:"match-status",level:5},{value:"<strong>Match Content</strong>",id:"match-content",level:5}],p={toc:h},u="wrapper";function d(e){var{components:t}=e,s=o(e,["components"]);return(0,n.kt)(u,a({},p,s,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",a({},{id:"monitors"}),"Monitors"),(0,n.kt)("p",null,"Continually test your upstream servers, avoid the servers that have failed, and gracefully add the recovered servers into the server group."),(0,n.kt)("hr",null),(0,n.kt)("h3",a({},{id:"overview"}),"Overview"),(0,n.kt)("p",null,"Monitoring provides a comprehensive overview of the status and performance of the Server Group and/or individual real servers inside the server group. If a monitor is attached to a server group, then it will get applied to all the servers inside that group automatically. If a monitor is attached to a particular server then it will override the configuration of the server-group monitor. Health Checks computes an overall health state for each upstream server in the listener. Backend(upstream) that responds successfully for the configured number of times is considered healthy. Backend(upstream) that fails to respond successfully for a separate number of times is unhealthy."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"monitors",src:r(16574).Z,width:"1888",height:"990"})),(0,n.kt)("h3",a({},{id:"how-to-use"}),"How to Use:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Log into the Haltdos WAF Professional edition web UI console."),(0,n.kt)("li",{parentName:"ol"},"Then go to ",(0,n.kt)("strong",{parentName:"li"},"Listeners")," > ",(0,n.kt)("strong",{parentName:"li"},"Monitors")),(0,n.kt)("li",{parentName:"ol"},"Configure your settings."),(0,n.kt)("li",{parentName:"ol"},"Click on save changes.")),(0,n.kt)("h3",a({},{id:"description"}),"Description"),(0,n.kt)("h5",a({},{id:"monitor-name"}),(0,n.kt)("strong",{parentName:"h5"},"Monitor Name")),(0,n.kt)("p",null,"This option allows users to define a user-friendly name for the monitor."),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{}),"Accepted values: String\n\nDefault: Blank  \n")),(0,n.kt)("h5",a({},{id:"enable-health-check"}),(0,n.kt)("strong",{parentName:"h5"},"Enable Health Check")),(0,n.kt)("p",null,"Enable to periodically check the health of upstream servers by sending special health\u2011check requests to each server and verifying the correct response."),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{}),"Accepted values: Enabled / Disbaled\n\nDefault: Disabled \n")),(0,n.kt)("h5",a({},{id:"health-check-interval"}),(0,n.kt)("strong",{parentName:"h5"},"Health Check Interval")),(0,n.kt)("p",null,"Set the seconds, say 10, then every 10 seconds WAF sends a request for \u201c/\u201d to each server/server group. If any communication error or timeout occurs (the server responds with a status code other than the expected code) the health check fails. The server is marked as unhealthy, and WAF does not send client requests to it (if attached to server group) until it once again passes a health check."),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{}),"Accepted values: Integer\n\nMax: 17280\n\nMin: 0\n\nDefault: 10  \n\nMetrics: Seconds\n")),(0,n.kt)("h5",a({},{id:"fail-threshold"}),(0,n.kt)("strong",{parentName:"h5"},"Fail Threshold")),(0,n.kt)("p",null,"Sets the number of failed attempts that must occur during the heath check interval period for the server to be marked unavailable (default is 1 attempt)."),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{}),"Accepted values: Integer\n\nMax: 10000\n\nMin: 0\n\nDefault: 1  \n")),(0,n.kt)("h5",a({},{id:"pass-threshold"}),(0,n.kt)("strong",{parentName:"h5"},"Pass Threshold")),(0,n.kt)("p",null,"Sets the number of passes that must occur during the heath check interval period for the server to be marked available (default is 1 attempt). If set as 2, then the server must pass two consecutive checks to be marked as healthy again instead of the default one."),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{}),"Accepted values: Integer\n\nMax: 10000\n\nMin: 0\n\nDefault: 1  \n")),(0,n.kt)("h5",a({},{id:"health-check-type"}),(0,n.kt)("strong",{parentName:"h5"},"Health Check Type")),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{}),"Accepted values: TCP / HTTP / SSL HELLO / HTTPS\n\nDefault: TCP  \n")),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"HTTP"),": Works for HTTP servers. Health check sends the request, if unable to send request, then we make that server unhealthy.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"SSL HELLO"),": Works for HTTP servers. Health check tries SSL handshake with the server, if failed to do SSL handshake then we make that server as unhealthy.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"TCP"),": Works for TCP servers. Health check simply attempts to open a TCP connection to the server on the specified port (which are specified in the configuration file).")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"HTTPS"),": Works for HTTPS servers. Health check sends the request, if unable to send request, then we make that server as unhealthy"))),(0,n.kt)("h5",a({},{id:"check-uri"}),(0,n.kt)("strong",{parentName:"h5"},"Check URI")),(0,n.kt)("p",null,"The specified URI is appended to the server domain name or IP address set for the server in the server block. This option only appears when HTTP/HTTPS is select in ",(0,n.kt)("strong",{parentName:"p"},"Health check")," option"),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{}),"Accepted values: URI\n\nDefault: GET / \n")),(0,n.kt)("h5",a({},{id:"match-status"}),(0,n.kt)("strong",{parentName:"h5"},"Match Status")),(0,n.kt)("p",null,"Using this directive it is possible to verify whether the status is in a specified range. It contains one status code.This option only appears when HTTP/HTTPS is select in ",(0,n.kt)("strong",{parentName:"p"},"Health check")," option"),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{}),"Accepted values: Response Code\n\nDefault: 200  \n")),(0,n.kt)("h5",a({},{id:"match-content"}),(0,n.kt)("strong",{parentName:"h5"},"Match Content")),(0,n.kt)("p",null,"Using this directive it is possible to verify whether the header or body matches a regular expression. It can contain one status code, one body condition, and multiple header conditions.This option only appears when HTTP/HTTPS is select in ",(0,n.kt)("strong",{parentName:"p"},"Health check")," option"),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{}),"Accepted values: Content to be matched in header/body\n\nDefault: Blank\n")))}d.isMDXComponent=!0},16574:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/monitors-ad547cc74a0adc2aecd166cabb29e378.png"}}]);