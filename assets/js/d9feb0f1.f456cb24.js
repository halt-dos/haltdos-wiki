"use strict";(self.webpackChunkhaltdos_wiki=self.webpackChunkhaltdos_wiki||[]).push([[68824],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>g});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var i=n.createContext({}),p=function(e){var t=n.useContext(i),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},u=function(e){var t=p(e.components);return n.createElement(i.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),c=p(r),h=a,g=c["".concat(i,".").concat(h)]||c[h]||d[h]||o;return r?n.createElement(g,l(l({ref:t},u),{},{components:r})):n.createElement(g,l({ref:t},u))}));function g(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,l=new Array(o);l[0]=h;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s[c]="string"==typeof e?e:a,l[1]=s;for(var p=2;p<o;p++)l[p]=r[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,r)}h.displayName="MDXCreateElement"},532:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>u});r(67294);var n=r(3905);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const l={sidebar_position:1},s="SNAT Rules",i={unversionedId:"enterprise/llb/nat_rules/snat_rule",id:"enterprise/llb/nat_rules/snat_rule",title:"SNAT Rules",description:"Source NAT Rule & Settings",source:"@site/docs/enterprise/llb/nat_rules/snat_rule.md",sourceDirName:"enterprise/llb/nat_rules",slug:"/enterprise/llb/nat_rules/snat_rule",permalink:"/enterprise/llb/nat_rules/snat_rule",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"llb_sidebar",previous:{title:"Routing",permalink:"/enterprise/llb/routing"},next:{title:"DNAT Rules",permalink:"/enterprise/llb/nat_rules/dnat_rule"}},p={},u=[{value:"<strong>How to Use:</strong>",id:"how-to-use",level:3},{value:"Description",id:"description",level:3},{value:"<strong>Enabled</strong>",id:"enabled",level:5},{value:"<strong>Rule Name</strong>",id:"rule-name",level:5},{value:"<strong>Rule Message</strong>",id:"rule-message",level:5},{value:"<strong>Rule Priority</strong>",id:"rule-priority",level:5},{value:"<strong>Incoming Group</strong>",id:"incoming-group",level:5},{value:"<strong>Outgoing Group</strong>",id:"outgoing-group",level:5},{value:"<strong>Source IP</strong>",id:"source-ip",level:5},{value:"<strong>Destination IP</strong>",id:"destination-ip",level:5},{value:"<strong>Protocol</strong>",id:"protocol",level:5},{value:"<strong>Preserve Source Port</strong>",id:"preserve-source-port",level:5},{value:"<strong>Translation</strong>",id:"translation",level:5},{value:"<strong>Port Mapping</strong>",id:"port-mapping",level:5}],c={toc:u},d="wrapper";function h(e){var{components:t}=e,l=o(e,["components"]);return(0,n.kt)(d,a({},c,l,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",a({},{id:"snat-rules"}),"SNAT Rules"),(0,n.kt)("p",null,"Source NAT Rule & Settings"),(0,n.kt)("hr",null),(0,n.kt)("p",null,"Source NAT is the translation of the source IP address of a packet. It changes the source IP address of the packets which are passing through the Link Load Balancing Device. This rule helps you to set the SNAT rule by specifying the rule name, Incoming and Outgoing Interface, Source and Destination IP, Protocol, ARP Reply, Preserve Secure Port, Translation, Translate IP Range, and Port Mapping."),(0,n.kt)("p",null,"In static SNAT all internal IP addresses are always mapped to the same public IP address."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"source_net",src:r(61648).Z,width:"1143",height:"913"})),(0,n.kt)("h3",a({},{id:"how-to-use"}),(0,n.kt)("strong",{parentName:"h3"},"How to Use:")),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Go to ",(0,n.kt)("strong",{parentName:"p"},"Stack > LLB > NAT Rules"),".")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Select Source NAT rule.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Click Add Rule button.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Configure your settings.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Click Save."))),(0,n.kt)("h3",a({},{id:"description"}),"Description"),(0,n.kt)("h5",a({},{id:"enabled"}),(0,n.kt)("strong",{parentName:"h5"},"Enabled")),(0,n.kt)("p",null,"It specifies rule is enabled or disabled. By default, this option is enabled."),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{}),"Accepted values: Enabled / Disabled\n\nDefault: Enabled\n")),(0,n.kt)("h5",a({},{id:"rule-name"}),(0,n.kt)("strong",{parentName:"h5"},"Rule Name")),(0,n.kt)("p",null,"This option allows the user to select desired rule name."),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{}),"Accepted values: String\n\nDefault: Blank\n")),(0,n.kt)("h5",a({},{id:"rule-message"}),(0,n.kt)("strong",{parentName:"h5"},"Rule Message")),(0,n.kt)("p",null,"This option allows users to use specifies the custom message for the rule."),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{}),"Accepted values: String\n\nDefault: Blank\n")),(0,n.kt)("h5",a({},{id:"rule-priority"}),(0,n.kt)("strong",{parentName:"h5"},"Rule Priority")),(0,n.kt)("p",null,"This option allows the user to set rule priority. The rule with lower Priority Value will be prioritized."),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{}),"Accepted values: Integer\n\nDefault: 0\n")),(0,n.kt)("h5",a({},{id:"incoming-group"}),(0,n.kt)("strong",{parentName:"h5"},"Incoming Group")),(0,n.kt)("p",null,"This option allows the user to set Incoming Group. Every data packet entered from Incoming Group will be inspected and mapped to translation IPs."),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{}),"Accepted values: Select Incoming Group\n\nDefault: Blank \n")),(0,n.kt)("h5",a({},{id:"outgoing-group"}),(0,n.kt)("strong",{parentName:"h5"},"Outgoing Group")),(0,n.kt)("p",null,"This option allows the user to select the Outgoing Group from the list of group. data packets that are mapped will move outside from Outgoing group."),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{}),"Accepted values: Select Outgoing Group\n\nDefault: Blank \n")),(0,n.kt)("h5",a({},{id:"source-ip"}),(0,n.kt)("strong",{parentName:"h5"},"Source IP")),(0,n.kt)("p",null,"This option allows the user to set the source IP range with a CIDR value. The data packets are inspected and data packets that match with a mentioned source IP address will be translated according to the Translate IP Range."),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{}),"Accepted values: IP\n\nDefault: Blank \n")),(0,n.kt)("h5",a({},{id:"destination-ip"}),(0,n.kt)("strong",{parentName:"h5"},"Destination IP")),(0,n.kt)("p",null,"This option allows the user to set the destination IP range with a CIDR value. The data packets are inspected and data packets that match with a mentioned destination IP address will be translated according to the Translate IP Range."),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{}),"Accepted values: IP\n\nDefault: Blank \n")),(0,n.kt)("h5",a({},{id:"protocol"}),(0,n.kt)("strong",{parentName:"h5"},"Protocol")),(0,n.kt)("p",null,"This option allows the user to set the protocol for the rule. The data packets are inspected and data packets that match with the mentioned protocol will be translated according to the Translate IP Range."),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{}),"Accepted values: ANY / TCP / UDP / SCTP / CUSTOM\n\nDefault: Blank \n")),(0,n.kt)("h5",a({},{id:"preserve-source-port"}),(0,n.kt)("strong",{parentName:"h5"},"Preserve Source Port")),(0,n.kt)("p",null,"Preserve Source Port keeps the same source port for services that expect traffic to come from a specific source port. This option allows the user to select the preserved source port. It maps the source port for outgoing traffic through which it came from."),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{}),"Accepted values: Enabled / Disabled\n\nDefault: Disabled \n")),(0,n.kt)("h5",a({},{id:"translation"}),(0,n.kt)("strong",{parentName:"h5"},"Translation")),(0,n.kt)("p",null,"It allows users to select the type of translation. By default, Overload is selected."),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{}),"Accepted values: Enabled / Disabled\n\nDefault: OUTGOING INTRFACE IP \n")),(0,n.kt)("admonition",a({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Users can specify the translation IP or IP address range. If the user selects overload as translation type, another option will be shown there for translation IP or IP address range. Translation IP can be written as 192.168.1.1/24 or 192.168.1.5-192.168.1.25.")),(0,n.kt)("p",null,"In Haltdos LLB, we have three types of NAT translation which are mentioned below;"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Overload:")," SNAT maps the private IP addresses to the first available public address from a pool of addresses. An IP pool defines a single IP address or a range of IP addresses to be used as the source address for the duration of the session. If ")),(0,n.kt)("p",null,"The Users need to define an external IP range that contains one or more IP addresses. For example, assume, we have defined an overload type IP pool with two external IP addresses (172.16.200.1\xe2\u20ac\u201d172.16.200.2), since there are 60,416 available port numbers per IP, this IP pool can handle 60,416*2 internal IP addresses."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"overload_translation",src:r(82504).Z,width:"578",height:"190"})),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Outgoing Interface IP:")," If this option is selected as translation mode then all internal traffic will be moved to the public domain by changing its source IP address to the WAN outgoing port IP.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Fixed Port Range:")," If this is selected as a translation method, all internal traffic will not be affected. Users can manually define the Source IP range and translation IP range. it will automatically bind the source IP with the translation IP."))),(0,n.kt)("h5",a({},{id:"port-mapping"}),(0,n.kt)("strong",{parentName:"h5"},"Port Mapping")),(0,n.kt)("p",null,"It allows users to enable port mapping"))}h.isMDXComponent=!0},82504:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/llb13-0e22228675e710a6970ba22e4ad3ece5.png"},61648:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/llb_snat_rule-56addd5ec94ff05a14b7abfdfe034e16.png"}}]);